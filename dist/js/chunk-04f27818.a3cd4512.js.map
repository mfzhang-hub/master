{"version":3,"sources":["webpack:///./src/api/config/chargePile.js","webpack:///./src/api/account/group.js","webpack:///./src/api/config/domain.js","webpack:///./src/views/device/components/editIcon.vue?1be4","webpack:///src/views/device/components/editIcon.vue","webpack:///./src/views/device/components/editIcon.vue?cc61","webpack:///./src/views/device/components/editIcon.vue","webpack:///./src/views/device/components/editIcon.vue?c333","webpack:///./src/api/map.js","webpack:///./public/static/device sync ^\\.\\/111.*\\.png$","webpack:///./src/views/device/detail.vue?0ad5","webpack:///./src/api/vehicle.js","webpack:///./src/views/device/detail.vue?d426","webpack:///src/views/device/detail.vue","webpack:///./src/views/device/detail.vue?f9e1","webpack:///./src/views/device/detail.vue"],"names":["getChargePileModelList","request","get","getChargePileList","data","post","addChargePile","changeChargePileEnabld","id","enable","changeChargePileModel","modelId","deleteChargePile","getMapVertexes","mapId","getGroupList","userId","getUserId","addGroup","updateGroup","deleteGroup","delete","getDomainList","editDomain","deleteDomain","render","_vm","this","_h","$createElement","_c","_self","isStartEdit","staticClass","on","checkEdit","closeEdit","startEdit","staticRenderFns","props","oldDataCopy","computed","editData","set","$emit","val","isEdit","methods","JSON","parse","stringify","Array","isArray","join","component","getMapList","updateMap","deleteMap","getMapDetails","webpackEmptyContext","req","e","Error","code","keys","resolve","module","exports","getVehicleList","getVehicleTypeList","addVehicle","updateVehicle","toggleVehicleEnable","deleteVehicle","getVehicleDetail","updateVehicleArea","updateVehicleGroup","updateVehicleModel","updateVehicleCharge","updateVehicleRest","directives","name","rawName","value","expression","attrs","amrInfo","amrPo","goBack","_e","ref","imgUrl","_m","model","callback","$$v","activeName","style","height","innerHeight","_v","isEditArea","$set","trim","_l","key","Number","_s","domainList","areaId","$event","closeAll","isEditGroup","groupList","groupId","isEditModel","modelNames","modelIds","isEditCharge","mapList","chargePilePo","charge","isEditEnable","updateVehicleEnable","isEditRest","bindRestVertex","components","backPage","vehicleId","loading","amrTypePo","chargePileModelPo","rest","typeOptions","modelList","chargePileList","restList","mounted","$route","params","query","res","state","forEach","length","push","item","description","fun","onResize","$nextTick","document","getElementById","maxWidth","maxHeight","chargeModelIds","amrId","adaptation","chargePileId","restId","$router"],"mappings":"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","file":"js/chunk-04f27818.a3cd4512.js","sourcesContent":["import request from '@/utils/request'\n\n// 获取充电桩类型☑️\nexport function getChargePileModelList() {\n  return request.get('/chargePile/model/findAll')\n}\n\n// 获取充电桩列表☑️\nexport function getChargePileList(data) {\n  return request.post('/chargePile/page', data)\n}\n\n// 新增充电桩☑️\nexport function addChargePile(data) {\n  return request.post('/chargePile/add',data)\n}\n\n// 启用/禁用充电桩☑️\nexport function changeChargePileEnabld({ id, enable }) {\n  return request.get('/chargePile/enable?id=' + id + '&state=' + enable,)\n}\n\n// 修改充电桩☑️\nexport function changeChargePileModel({ id, modelId }) {\n  return request.get('chargePile/bindModel?id=' + id + '&modelId=' + modelId)\n}\n\n// 删除充电桩☑️\nexport function deleteChargePile(id) {\n  return request.get('/chargePile/delete?id=' + id)\n}\n\n// 获取地图点位列表，用来下拉选择\nexport function getMapVertexes(mapId) {\n  return request.get('/map/getMapVertexes/' + mapId)\n}","import request from '@/utils/request'\nimport { getUserId } from '@/utils/auth'\n\n// 获取分组列表\nexport function getGroupList(data) {\n  // ？？？临时增加，为了筛选\n  if (!data) data = {}\n  data.userId = getUserId()\n  return request.get('/group/list', data)\n}\n\n// 新增分组\nexport function addGroup(data) {\n  return request.post('/group/addOrUpdate', data)\n}\n\n// 修改分组\nexport function updateGroup(data) {\n  return request.post('/group/addOrUpdate', data)\n}\n\n// 删除分组\nexport function deleteGroup(id) {\n  return request.delete('/group/delete/' + id)\n}","import request from '@/utils/request'\n\n// 获取所有工作区域列表☑️\nexport function getDomainList(data) {\n  return request.post('/area/list', data)\n}\n\n// 新增和修改工作区域☑️\nexport function editDomain(data) {\n  return request.post(\"/area/update\", data)\n}\n\n// 删除工作区域☑️\nexport function deleteDomain(id) {\n  return request.post(\"/area/delete/\" + id)\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (!_vm.isStartEdit)?_c('span',[_c('i',{staticClass:\"el-icon-edit edit\",on:{\"click\":_vm.startEdit}})]):_c('span',[_c('i',{staticClass:\"el-icon-check check\",on:{\"click\":_vm.checkEdit}}),_c('i',{staticClass:\"el-icon-close close\",on:{\"click\":_vm.closeEdit}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <span v-if=\"!isStartEdit\"\n    ><i class=\"el-icon-edit edit\" @click=\"startEdit\"></i\n  ></span>\n  <span v-else\n    ><i class=\"el-icon-check check\" @click=\"checkEdit\"></i\n    ><i class=\"el-icon-close close\" @click=\"closeEdit\"></i\n  ></span>\n</template>\n\n<script>\nexport default {\n  props: [\"isEdit\", \"data\"],\n  data() {\n    return {\n      oldDataCopy: \"\", //用来还原数据\n    };\n  },\n  computed: {\n    //   编辑的数据\n    editData: {\n      get() {\n        return this.data;\n      },\n      set(val) {\n        this.$emit(\"update:data\", val);\n      },\n    },\n    // 是否正在编辑\n    isStartEdit: {\n      get() {\n        return this.isEdit;\n      },\n      set(val) {\n        this.$emit(\"update:isEdit\", val);\n      },\n    },\n  },\n  methods: {\n    // 开始编辑\n    startEdit() {\n      this.$emit(\"closeAll\");\n      this.isStartEdit = true;\n      //   保存旧数据\n      if (typeof this.editData === \"object\") {\n        this.oldDataCopy = JSON.parse(JSON.stringify(this.editData));\n      } else {\n        this.oldDataCopy = this.editData;\n      }\n      this.$emit(\"open\");\n    },\n    // 结束编辑，还原数据\n    closeEdit() {\n      this.isStartEdit = false;\n      this.editData = this.oldDataCopy;\n    },\n    // 发出编辑指令\n    checkEdit() {\n      // 不同的类型判断数据是否发生变化\n      if (Array.isArray(this.editData)) {\n        if (this.editData.join(\",\") !== this.oldDataCopy.join(\",\")) {\n          this.$emit(\"checkEdit\", this.editData);\n        } else {\n          this.isStartEdit = false;\n        }\n      } else {\n        if (this.editData !== this.oldDataCopy) {\n          this.$emit(\"checkEdit\", this.editData);\n        } else {\n          this.isStartEdit = false;\n        }\n      }\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.edit,\n.check,\n.close {\n  font-size: 20px;\n  cursor: pointer;\n}\n.edit {\n  margin-left: 5px;\n}\n.check {\n  margin: 0 5px;\n  color: #67c23a;\n}\n</style>","import mod from \"-!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.9.7@vue-loader/lib/index.js??vue-loader-options!./editIcon.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.9.7@vue-loader/lib/index.js??vue-loader-options!./editIcon.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./editIcon.vue?vue&type=template&id=15c6001f&scoped=true&\"\nimport script from \"./editIcon.vue?vue&type=script&lang=js&\"\nexport * from \"./editIcon.vue?vue&type=script&lang=js&\"\nimport style0 from \"./editIcon.vue?vue&type=style&index=0&id=15c6001f&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/_vue-loader@15.9.7@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"15c6001f\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/_vue-loader@15.9.7@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/_sass-loader@7.3.1@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.9.7@vue-loader/lib/index.js??vue-loader-options!./editIcon.vue?vue&type=style&index=0&id=15c6001f&lang=scss&scoped=true&\"","import request from '@/utils/request'\n\n// 获取地图列表\nexport function getMapList(data) {\n  return request.get('/map/mapList', data)\n}\n\n// 修改地图\nexport function updateMap(data) {\n  return request.post('/map/updateMap', data)\n}\n\n// 删除地图\nexport function deleteMap(id) {\n  return request.post('/map/delete/' + id)\n}\n\n// 获取地图详情\nexport function getMapDetails(data) {\n  return request.get('/map/getMapDetailById', data)\n}","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = \"8964\";","export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/_vue-loader@15.9.7@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/_sass-loader@7.3.1@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.7@vue-loader/lib/index.js??vue-loader-options!./detail.vue?vue&type=style&index=0&id=a63f9a86&lang=scss&scoped=true&\"","import request from '@/utils/request'\n\n// 获取所有机器人列表☑️\nexport function getVehicleList(data) {\n  return request.post('/amr/getAmrPageList', data)\n}\n\n// 获取在线机器列表☑️\nexport function getOnlineVehicleList() {\n  return request.post('/amr/onlineAmr')\n}\n\n// 获取小车类型列表☑️\nexport function getVehicleTypeList() {\n  return request.get('/amr/listAmrType')\n}\n\n// 添加设备☑️\nexport function addVehicle(data) {\n  return request.post('/amr/register', data)\n}\n\n// 修改设备 名称☑️\nexport function updateVehicle(data) {\n  return request.post('/amr/editorAmr', data)\n}\n\n// 启用/禁用小车☑️\nexport function toggleVehicleEnable(data) {\n  return request.get('/amr/enable', data)\n}\n\n// 删除设备☑️\nexport function deleteVehicle(id) {\n  return request.post('/amr/deleteAmr/' + id)\n}\n\n// 获取设备详情☑️\nexport function getVehicleDetail(data) {\n  return request.get('/amr/getDetailAmr', data)\n}\n\n// 修改小车区域☑️\nexport function updateVehicleArea(data) {\n  return request.get('/amr/updateArea', data)\n}\n\n// 修改小车分组\nexport function updateVehicleGroup(data) {\n  return request.get('/amr/updateGroup', data)\n}\n\n// 修改小车充电类型\nexport function updateVehicleModel(data) {\n  return request.get('chargeConf/update/amrAdaptation', data)\n}\n\n// 修改小车充电桩\nexport function updateVehicleCharge(data) {\n  return request.get('chargeConf/update/amrBind', data)\n}\n\n// 修改小车休息点\nexport function updateVehicleRest(data) {\n  return request.get('rest/update/amrBind', data)\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"amrDetails-container\"},[_c('div',{staticClass:\"left\"},[_c('div',{staticClass:\"basic\"},[(_vm.backPage)?_c('el-page-header',{attrs:{\"content\":_vm.amrInfo.amrPo.name},on:{\"back\":_vm.goBack}}):_vm._e(),_c('div',{ref:\"imageParent\",staticClass:\"image\"},[_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.imgUrl),expression:\"imgUrl\"}],attrs:{\"src\":_vm.imgUrl,\"id\":\"imageChild\"}})])],1),_vm._m(0)]),_c('div',{staticClass:\"right\"},[_c('el-tabs',{attrs:{\"type\":\"border-card\"},model:{value:(_vm.activeName),callback:function ($$v) {_vm.activeName=$$v},expression:\"activeName\"}},[_c('el-tab-pane',{style:({ height: _vm.innerHeight - 151 + 'px' }),attrs:{\"name\":\"1\",\"label\":\"设备配置\"}},[_c('div',{staticClass:\"edit-item\"},[_c('span',[_vm._v(\"绑定区域: \")]),(!_vm.isEditArea)?_c('span',[_vm._v(_vm._s(_vm.domainList[_vm.amrInfo.amrPo.areaId]))]):_c('el-select',{attrs:{\"placeholder\":\"请选择工作区域\",\"filterable\":\"\"},model:{value:(_vm.amrInfo.amrPo.areaId),callback:function ($$v) {_vm.$set(_vm.amrInfo.amrPo, \"areaId\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"amrInfo.amrPo.areaId\"}},_vm._l((_vm.domainList),function(value,key){return _c('el-option',{key:key,attrs:{\"label\":value,\"value\":Number(key)}})}),1),_c('edit-icon',{attrs:{\"isEdit\":_vm.isEditArea,\"data\":_vm.amrInfo.amrPo.areaId},on:{\"update:isEdit\":function($event){_vm.isEditArea=$event},\"update:is-edit\":function($event){_vm.isEditArea=$event},\"update:data\":function($event){return _vm.$set(_vm.amrInfo.amrPo, \"areaId\", $event)},\"checkEdit\":_vm.updateVehicleArea,\"closeAll\":_vm.closeAll}})],1),_c('div',{staticClass:\"edit-item\"},[_c('span',[_vm._v(\"分组: \")]),(!_vm.isEditGroup)?_c('span',[_vm._v(_vm._s(_vm.groupList[_vm.amrInfo.amrPo.groupId] || \"-- 未绑定 --\"))]):_c('el-select',{attrs:{\"placeholder\":\"请选择分组\",\"filterable\":\"\",\"clearable\":\"\"},model:{value:(_vm.amrInfo.amrPo.groupId),callback:function ($$v) {_vm.$set(_vm.amrInfo.amrPo, \"groupId\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"amrInfo.amrPo.groupId\"}},_vm._l((_vm.groupList),function(value,key){return _c('el-option',{key:key,attrs:{\"label\":value,\"value\":Number(key)}})}),1),_c('edit-icon',{attrs:{\"isEdit\":_vm.isEditGroup,\"data\":_vm.amrInfo.amrPo.groupId},on:{\"update:isEdit\":function($event){_vm.isEditGroup=$event},\"update:is-edit\":function($event){_vm.isEditGroup=$event},\"update:data\":function($event){return _vm.$set(_vm.amrInfo.amrPo, \"groupId\", $event)},\"checkEdit\":_vm.updateVehicleGroup,\"open\":_vm.getGroupList,\"closeAll\":_vm.closeAll}})],1),_c('div',{staticClass:\"edit-item\"},[_c('span',[_vm._v(\"充电桩类型: \")]),(!_vm.isEditModel)?_c('span',[_vm._v(_vm._s(_vm.amrInfo.modelNames))]):_c('el-select',{attrs:{\"placeholder\":\"请选择充电桩类型\",\"filterable\":\"\",\"clearable\":\"\",\"multiple\":\"\",\"collapse-tags\":\"\"},model:{value:(_vm.amrInfo.modelIds),callback:function ($$v) {_vm.$set(_vm.amrInfo, \"modelIds\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"amrInfo.modelIds\"}},_vm._l((_vm.modelList),function(value,key){return _c('el-option',{key:key,attrs:{\"label\":value,\"value\":Number(key)}})}),1),_c('edit-icon',{attrs:{\"isEdit\":_vm.isEditModel,\"data\":_vm.amrInfo.modelIds},on:{\"update:isEdit\":function($event){_vm.isEditModel=$event},\"update:is-edit\":function($event){_vm.isEditModel=$event},\"update:data\":function($event){return _vm.$set(_vm.amrInfo, \"modelIds\", $event)},\"checkEdit\":_vm.updateVehicleModel,\"closeAll\":_vm.closeAll}})],1),_c('div',{staticClass:\"edit-item\"},[_c('span',[_vm._v(\"绑定充电桩: \")]),(!_vm.isEditCharge)?_c('span',[_vm._v(_vm._s(_vm.amrInfo.chargePilePo ? _vm.mapList[_vm.amrInfo.chargePilePo.mapId].name + \"/\" + _vm.amrInfo.chargePilePo.name : \"-- 未绑定 --\"))]):_c('el-select',{attrs:{\"placeholder\":\"请选择充电桩\",\"filterable\":\"\",\"clearable\":\"\"},model:{value:(_vm.amrInfo.charge),callback:function ($$v) {_vm.$set(_vm.amrInfo, \"charge\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"amrInfo.charge\"}},_vm._l((_vm.chargePileList),function(value,key){return _c('el-option',{key:key,attrs:{\"label\":_vm.mapList[value.mapId].name + '/' + value.name,\"value\":Number(key)}})}),1),_c('edit-icon',{attrs:{\"isEdit\":_vm.isEditCharge,\"data\":_vm.amrInfo.charge},on:{\"update:isEdit\":function($event){_vm.isEditCharge=$event},\"update:is-edit\":function($event){_vm.isEditCharge=$event},\"update:data\":function($event){return _vm.$set(_vm.amrInfo, \"charge\", $event)},\"open\":_vm.getChargePileList,\"checkEdit\":_vm.updateVehicleCharge,\"closeAll\":_vm.closeAll}})],1),_c('div',{staticClass:\"edit-item\"},[_c('span',[_vm._v(\"是否启用: \")]),(!_vm.isEditEnable)?_c('span',[_vm._v(_vm._s(_vm.amrInfo.amrPo.enable ? \"已启用\" : \"未启用\"))]):_c('el-switch',{attrs:{\"active-value\":1,\"inactive-value\":0},model:{value:(_vm.amrInfo.amrPo.enable),callback:function ($$v) {_vm.$set(_vm.amrInfo.amrPo, \"enable\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"amrInfo.amrPo.enable\"}}),_c('edit-icon',{attrs:{\"isEdit\":_vm.isEditEnable,\"data\":_vm.amrInfo.amrPo.enable},on:{\"update:isEdit\":function($event){_vm.isEditEnable=$event},\"update:is-edit\":function($event){_vm.isEditEnable=$event},\"update:data\":function($event){return _vm.$set(_vm.amrInfo.amrPo, \"enable\", $event)},\"checkEdit\":_vm.updateVehicleEnable,\"closeAll\":_vm.closeAll}})],1),_c('div',{staticClass:\"edit-item\"},[_c('span',[_vm._v(\"休息点位: \")]),(!_vm.isEditRest)?_c('span',[_vm._v(_vm._s(_vm.amrInfo.bindRestVertex ? _vm.amrInfo.bindRestVertex.code : \"-- 未绑定 --\"))]):_c('el-select',{attrs:{\"placeholder\":\"请选择休息点\",\"filterable\":\"\",\"clearable\":\"\"},model:{value:(_vm.amrInfo.rest),callback:function ($$v) {_vm.$set(_vm.amrInfo, \"rest\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"amrInfo.rest\"}},_vm._l((_vm.restList),function(value,key){return _c('el-option',{key:key,attrs:{\"label\":_vm.mapList[value.mapId].name + '/' + value.name,\"value\":Number(key)}})}),1)],1)]),_c('el-tab-pane',{style:({ height: _vm.innerHeight - 151 + 'px' }),attrs:{\"name\":\"2\",\"label\":\"占用点位\"}},[_vm._v(\" 占用点位。。。 \")])],1)],1)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"function\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"常用功能\")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"amrDetails-container\" v-loading=\"loading\">\n    <div class=\"left\">\n      <div class=\"basic\">\n        <el-page-header\n          @back=\"goBack\"\n          v-if=\"backPage\"\n          :content=\"amrInfo.amrPo.name\"\n        >\n        </el-page-header>\n        <div class=\"image\" ref=\"imageParent\">\n          <img :src=\"imgUrl\" id=\"imageChild\" v-show=\"imgUrl\" />\n        </div>\n      </div>\n      <div class=\"function\">\n        <div class=\"title\">常用功能</div>\n      </div>\n    </div>\n    <div class=\"right\">\n      <el-tabs v-model=\"activeName\" type=\"border-card\">\n        <el-tab-pane\n          name=\"1\"\n          label=\"设备配置\"\n          :style=\"{ height: innerHeight - 151 + 'px' }\"\n        >\n          <div class=\"edit-item\">\n            <span>绑定区域: </span>\n            <span v-if=\"!isEditArea\">{{\n              domainList[amrInfo.amrPo.areaId]\n            }}</span>\n            <el-select\n              v-model.trim=\"amrInfo.amrPo.areaId\"\n              placeholder=\"请选择工作区域\"\n              filterable\n              v-else\n            >\n              <el-option\n                v-for=\"(value, key) in domainList\"\n                :key=\"key\"\n                :label=\"value\"\n                :value=\"Number(key)\"\n              ></el-option>\n            </el-select>\n            <edit-icon\n              :isEdit.sync=\"isEditArea\"\n              :data.sync=\"amrInfo.amrPo.areaId\"\n              @checkEdit=\"updateVehicleArea\"\n              @closeAll=\"closeAll\"\n            />\n          </div>\n          <div class=\"edit-item\">\n            <span>分组: </span>\n            <span v-if=\"!isEditGroup\">{{\n              groupList[amrInfo.amrPo.groupId] || \"-- 未绑定 --\"\n            }}</span>\n            <el-select\n              v-model.trim=\"amrInfo.amrPo.groupId\"\n              placeholder=\"请选择分组\"\n              filterable\n              clearable\n              v-else\n            >\n              <el-option\n                v-for=\"(value, key) in groupList\"\n                :key=\"key\"\n                :label=\"value\"\n                :value=\"Number(key)\"\n              ></el-option>\n            </el-select>\n            <edit-icon\n              :isEdit.sync=\"isEditGroup\"\n              :data.sync=\"amrInfo.amrPo.groupId\"\n              @checkEdit=\"updateVehicleGroup\"\n              @open=\"getGroupList\"\n              @closeAll=\"closeAll\"\n            />\n          </div>\n          <div class=\"edit-item\">\n            <span>充电桩类型: </span>\n            <span v-if=\"!isEditModel\">{{ amrInfo.modelNames }}</span>\n            <el-select\n              v-model.trim=\"amrInfo.modelIds\"\n              placeholder=\"请选择充电桩类型\"\n              filterable\n              clearable\n              multiple\n              collapse-tags\n              v-else\n            >\n              <el-option\n                v-for=\"(value, key) in modelList\"\n                :key=\"key\"\n                :label=\"value\"\n                :value=\"Number(key)\"\n              ></el-option>\n            </el-select>\n            <edit-icon\n              :isEdit.sync=\"isEditModel\"\n              :data.sync=\"amrInfo.modelIds\"\n              @checkEdit=\"updateVehicleModel\"\n              @closeAll=\"closeAll\"\n            />\n          </div>\n          <div class=\"edit-item\">\n            <span>绑定充电桩: </span>\n            <span v-if=\"!isEditCharge\">{{\n              amrInfo.chargePilePo\n                ? mapList[amrInfo.chargePilePo.mapId].name +\n                  \"/\" +\n                  amrInfo.chargePilePo.name\n                : \"-- 未绑定 --\"\n            }}</span>\n            <el-select\n              v-model.trim=\"amrInfo.charge\"\n              placeholder=\"请选择充电桩\"\n              filterable\n              clearable\n              v-else\n            >\n              <el-option\n                v-for=\"(value, key) in chargePileList\"\n                :key=\"key\"\n                :label=\"mapList[value.mapId].name + '/' + value.name\"\n                :value=\"Number(key)\"\n              ></el-option>\n            </el-select>\n            <edit-icon\n              :isEdit.sync=\"isEditCharge\"\n              :data.sync=\"amrInfo.charge\"\n              @open=\"getChargePileList\"\n              @checkEdit=\"updateVehicleCharge\"\n              @closeAll=\"closeAll\"\n            />\n          </div>\n          <div class=\"edit-item\">\n            <span>是否启用: </span>\n            <span v-if=\"!isEditEnable\">{{\n              amrInfo.amrPo.enable ? \"已启用\" : \"未启用\"\n            }}</span>\n            <el-switch\n              v-model.trim=\"amrInfo.amrPo.enable\"\n              :active-value=\"1\"\n              :inactive-value=\"0\"\n              v-else\n            ></el-switch>\n            <edit-icon\n              :isEdit.sync=\"isEditEnable\"\n              :data.sync=\"amrInfo.amrPo.enable\"\n              @checkEdit=\"updateVehicleEnable\"\n              @closeAll=\"closeAll\"\n            />\n          </div>\n          <div class=\"edit-item\">\n            <span>休息点位: </span>\n            <span v-if=\"!isEditRest\">{{\n              amrInfo.bindRestVertex\n                ? amrInfo.bindRestVertex.code\n                : \"-- 未绑定 --\"\n            }}</span>\n            <el-select\n              v-model.trim=\"amrInfo.rest\"\n              placeholder=\"请选择休息点\"\n              filterable\n              clearable\n              v-else\n            >\n              <el-option\n                v-for=\"(value, key) in restList\"\n                :key=\"key\"\n                :label=\"mapList[value.mapId].name + '/' + value.name\"\n                :value=\"Number(key)\"\n              ></el-option>\n            </el-select>\n            <!-- <edit-icon\n              :isEdit.sync=\"isEditRest\"\n              :data.sync=\"amrInfo.rest\"\n              @checkEdit=\"updateVehicleRest\"\n              @closeAll=\"closeAll\"\n            /> -->\n          </div>\n        </el-tab-pane>\n        <el-tab-pane\n          name=\"2\"\n          label=\"占用点位\"\n          :style=\"{ height: innerHeight - 151 + 'px' }\"\n        >\n          占用点位。。。\n        </el-tab-pane>\n      </el-tabs>\n    </div>\n  </div>\n</template>\n\n<script>\nimport {\n  getVehicleDetail,\n  getVehicleTypeList,\n  updateVehicleArea,\n  toggleVehicleEnable,\n  updateVehicleGroup,\n  updateVehicleModel,\n  updateVehicleCharge,\n  updateVehicleRest,\n} from \"@/api/vehicle\";\nimport { getGroupList } from \"@/api/account/group\";\nimport {\n  getChargePileModelList,\n  getChargePileList,\n} from \"@/api/config/chargePile\";\nimport { getDomainList } from \"@/api/config/domain\";\nimport { getMapList } from \"@/api/map\";\nimport EditIcon from \"./components/editIcon.vue\";\nimport { Message } from \"element-ui\";\nexport default {\n  props: [\"innerHeight\"],\n  components: { EditIcon },\n  data() {\n    return {\n      backPage: \"\", //返回地址\n      vehicleId: 0, //设备id\n      loading: false, // 等待\n      amrInfo: {\n        amrPo: {},\n        amrTypePo: {},\n        bindRestVertex: \"\",\n        chargePileModelPo: [],\n        chargePilePo: \"\",\n        modelIds: [],\n        modelNames: \"\",\n        charge: \"\",\n        rest: \"\",\n      }, //设备详情\n      imgUrl: \"\", //默认设备图标\n      // imgUrl: require(\"../../../public/static/device/no-img.png\"), //默认设备图标\n      activeName: \"1\", //右侧默认展示部分\n      typeOptions: {}, //设备类型列表\n      domainList: {}, //区域列表\n      mapList: {}, // 地图列表\n      groupList: {}, //分组列表\n      modelList: {}, // 充电桩类型列表\n      chargePileList: {}, // 充电桩列表\n      restList: {}, // 休息点列表\n      isEditArea: false, //是否正在修改区域\n      isEditGroup: false, //是否正在修改分组\n      isEditModel: false, //是否正在修改充电桩类型\n      isEditCharge: false, //是否正在修改充电桩\n      isEditEnable: false, //是否正在修改启用状态\n      isEditRest: false, //是否正在修改休息点\n    };\n  },\n  mounted() {\n    this.vehicleId = this.$route.params.id;\n    this.backPage = this.$route.query.backPage;\n    // 获取区域列表\n    getDomainList().then((res) => {\n      if (res.state && res.data.data) {\n        res.data.data.forEach((item) => {\n          this.$set(this.domainList, item.id, item.name);\n        });\n      }\n    });\n    // 获取充电桩类型列表\n    getChargePileModelList().then((res) => {\n      if (res.state && res.data) {\n        res.data.forEach((item) => {\n          this.$set(this.modelList, item.id, item.description);\n        });\n      }\n    });\n    // 获取地图列表\n    getMapList().then((res) => {\n      if (res.state && res.data.data) {\n        res.data.data.forEach((item) => {\n          this.$set(this.mapList, item.id, item);\n        });\n      }\n    });\n    this.getGroupList();\n    this.getVehicleDetail();\n  },\n  methods: {\n    // 获取设备详情\n    getVehicleDetail() {\n      let fun = () => {\n        this.loading = true;\n        getVehicleDetail({ id: this.vehicleId }).then((res) => {\n          if (res.state) {\n            let { chargePileModelPo, chargePilePo, bindRestVertex } = res.data;\n            let modelIds = [];\n            let modelNames = \"\";\n            let charge = \"\";\n            let rest = \"\";\n            if (chargePileModelPo && chargePileModelPo.length > 0) {\n              chargePileModelPo.forEach((item) => {\n                modelIds.push(item.id);\n                modelNames += item.description;\n              });\n            } else {\n              modelNames = \"-- 未绑定 --\";\n            }\n            if (chargePilePo) charge = chargePilePo.id;\n            if (bindRestVertex) rest = bindRestVertex.id;\n            res.data.modelIds = modelIds;\n            res.data.modelNames = modelNames;\n            res.data.charge = charge;\n            res.data.rest = rest;\n            this.amrInfo = res.data;\n            try {\n              this.imgUrl = require(`../../../public/static/device/111${res.data.amrTypePo.name}.png`);\n            } catch (err) {\n              // this.imgUrl = require(\"../../../public/static/device/no-img.png\");\n              this.imgUrl = \"\";\n            }\n            this.loading = false;\n          }\n        });\n      };\n      if (this.typeOptions[1]) {\n        fun();\n      } else {\n        // 获取设备类型列表\n        getVehicleTypeList().then((res) => {\n          if (res.state && res.data) {\n            res.data.forEach((item) => {\n              this.$set(this.typeOptions, item.id, item.name);\n            });\n          }\n          fun();\n        });\n      }\n    },\n    onResize() {\n      this.$nextTick(() => {\n        document.getElementById(\"imageChild\").style.maxWidth =\n          this.$refs.imageParent.offsetWidth - 80 + \"px\";\n        document.getElementById(\"imageChild\").style.maxHeight =\n          this.$refs.imageParent.offsetHeight - 50 + \"px\";\n      });\n    },\n    // 获取分组列表\n    getGroupList() {\n      this.groupList = {};\n      getGroupList({ areaId: this.amrInfo.amrPo.areaId }).then((res) => {\n        if (res.state && res.data) {\n          res.data.forEach((item) => {\n            this.$set(this.groupList, item.id, item.groupName);\n          });\n        }\n      });\n    },\n    // 获取充电桩列表\n    getChargePileList() {\n      this.chargePileList = {};\n      if (this.amrInfo.modelIds.length > 0) {\n        let params = {\n          chargeModelIds: this.amrInfo.modelIds,\n          areaId: this.amrInfo.amrPo.areaId,\n        };\n        getChargePileList(params).then((res) => {\n          if (res.state && res.data.data) {\n            res.data.data.forEach((item) => {\n              this.$set(this.chargePileList, item.id, item);\n            });\n          }\n        });\n      }\n    },\n    // 修改设备区域\n    updateVehicleArea(value) {\n      let params = {\n        id: this.vehicleId,\n        areaId: value,\n      };\n      updateVehicleArea(params).then((res) => {\n        if (res.state) {\n          Message.success(\"设备区域修改成功\");\n          this.isEditArea = false;\n          this.getVehicleDetail();\n        }\n      });\n    },\n    // 修改设备分组\n    updateVehicleGroup(value) {\n      let params = {\n        id: this.vehicleId,\n        groupId: value,\n      };\n      updateVehicleGroup(params).then((res) => {\n        if (res.state) {\n          Message.success(\"设备分组修改成功\");\n          this.isEditGroup = false;\n          this.getVehicleDetail();\n        }\n      });\n    },\n    // 修改设备启用状态\n    updateVehicleEnable(value) {\n      let msg = value === 1 ? \"启用\" : \"禁用\";\n      let params = {\n        id: this.vehicleId,\n        enable: value,\n      };\n      toggleVehicleEnable(params).then((res) => {\n        if (res.state) {\n          this.$message.success(`设备${msg}成功`);\n          this.isEditEnable = false;\n          this.getVehicleDetail();\n        }\n      });\n    },\n    // 修改设备充电桩类型\n    updateVehicleModel(value) {\n      let params = {\n        amrId: this.vehicleId,\n        adaptation: \"\",\n      };\n      if (value.length > 0) params.adaptation = value.join(\",\");\n      updateVehicleModel(params).then((res) => {\n        if (res.state) {\n          this.$message.success(`设备充电桩类型修改成功`);\n          this.isEditModel = false;\n          this.getVehicleDetail();\n        }\n      });\n    },\n    // 修改设备充电桩\n    updateVehicleCharge(value) {\n      let params = { amrId: this.vehicleId };\n      if (value) params.chargePileId = value;\n      updateVehicleCharge(params).then((res) => {\n        if (res.state) {\n          this.$message.success(`设备充电桩修改成功`);\n          this.isEditCharge = false;\n          this.getVehicleDetail();\n        }\n      });\n    },\n    // 修改设备休息点\n    updateVehicleRest(value) {\n      let params = { amrId: this.vehicleId };\n      if (value) params.restId = value;\n      updateVehicleRest(params).then((res) => {\n        if (res.state) {\n          this.$message.success(`设备休息点修改成功`);\n          this.isEditRest = false;\n          this.getVehicleDetail();\n        }\n      });\n    },\n    // 关闭所有编辑\n    closeAll() {\n      this.isEditArea = false;\n      this.isEditGroup = false;\n      this.isEditModel = false;\n      this.isEditCharge = false;\n      this.isEditEnable = false;\n      this.isEditRest = false;\n    },\n    // 返回来源页面\n    goBack() {\n      this.$router.push(this.backPage);\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.amrDetails-container {\n  display: flex;\n  .edit-item {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    height: 40px;\n    margin-bottom: 20px;\n  }\n  .left,\n  .right {\n    height: calc(100vh - 80px);\n  }\n  .basic,\n  .function,\n  .right {\n    background-color: #fff;\n  }\n  .left {\n    display: flex;\n    flex-direction: column;\n    width: 40%;\n    .basic {\n      display: flex;\n      flex-direction: column;\n      flex: 1;\n      margin-bottom: 15px;\n      padding: 10px;\n      border-radius: 5px;\n      .image {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        flex: 1;\n        padding: 40px 40px 0;\n        box-sizing: border-box;\n        img {\n          border-radius: 5px;\n        }\n      }\n    }\n    .function {\n      display: flex;\n      padding: 10px;\n      .title {\n        width: 24px;\n        padding-right: 10px;\n        text-align: center;\n        font-size: 14px;\n        border-right: 1px solid #ccc;\n      }\n    }\n  }\n  .right {\n    width: 60%;\n    margin-left: 15px;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.7@vue-loader/lib/index.js??vue-loader-options!./detail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.7@vue-loader/lib/index.js??vue-loader-options!./detail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./detail.vue?vue&type=template&id=a63f9a86&scoped=true&\"\nimport script from \"./detail.vue?vue&type=script&lang=js&\"\nexport * from \"./detail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./detail.vue?vue&type=style&index=0&id=a63f9a86&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.9.7@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a63f9a86\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}